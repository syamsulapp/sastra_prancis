<?php $icon2 = array('fa-glass','fa-music','fa-search','fa-envelope-o','fa-heart','fa-star','fa-star-o','fa-user','fa-film','fa-th-large','fa-th','fa-th-list','fa-check','fa-times','fa-search-plus','fa-search-minus','fa-power-off','fa-signal','fa-gear','fa-cog','fa-trash-o','fa-home','fa-file-o','fa-clock-o','fa-road','fa-download','fa-arrow-circle-o-down','fa-arrow-circle-o-up','fa-inbox','fa-play-circle-o','fa-rotate-right','fa-repeat','fa-refresh','fa-list-alt','fa-lock','fa-flag','fa-headphones','fa-volume-off','fa-volume-down','fa-volume-up','fa-qrcode','fa-barcode','fa-tag','fa-tags','fa-book','fa-bookmark','fa-print','fa-camera','fa-font','fa-bold','fa-italic','fa-text-height','fa-text-width','fa-align-left','fa-align-center','fa-align-right','fa-align-justify','fa-list','fa-dedent','fa-outdent','fa-indent','fa-video-camera','fa-picture-o','fa-pencil','fa-map-marker','fa-adjust','fa-tint','fa-edit','fa-pencil-square-o','fa-share-square-o','fa-check-square-o','fa-arrows','fa-step-backward','fa-fast-backward','fa-backward','fa-play','fa-pause','fa-stop','fa-forward','fa-fast-forward','fa-step-forward','fa-eject','fa-chevron-left','fa-chevron-right','fa-plus-circle','fa-minus-circle','fa-times-circle','fa-check-circle','fa-question-circle','fa-info-circle','fa-crosshairs','fa-times-circle-o','fa-check-circle-o','fa-ban','fa-arrow-left','fa-arrow-right','fa-arrow-up','fa-arrow-down','fa-mail-forward','fa-share','fa-expand','fa-compress','fa-plus','fa-minus','fa-asterisk','fa-exclamation-circle','fa-gift','fa-leaf','fa-fire','fa-eye','fa-eye-slash','fa-warning','fa-exclamation-triangle','fa-plane','fa-calendar','fa-random','fa-comment','fa-magnet','fa-chevron-up','fa-chevron-down','fa-retweet','fa-shopping-cart','fa-folder','fa-folder-open','fa-arrows-v','fa-arrows-h','fa-bar-chart-o','fa-twitter-square','fa-facebook-square','fa-camera-retro','fa-key','fa-gears','fa-cogs','fa-comments','fa-thumbs-o-up','fa-thumbs-o-down','fa-star-half','fa-heart-o','fa-sign-out','fa-linkedin-square','fa-thumb-tack','fa-external-link','fa-sign-in','fa-trophy','fa-github-square','fa-upload','fa-lemon-o','fa-phone','fa-square-o','fa-bookmark-o','fa-phone-square','fa-twitter','fa-facebook','fa-github','fa-unlock','fa-credit-card','fa-rss','fa-hdd-o','fa-bullhorn','fa-bell','fa-certificate','fa-hand-o-right','fa-hand-o-left','fa-hand-o-up','fa-hand-o-down','fa-arrow-circle-left','fa-arrow-circle-right','fa-arrow-circle-up','fa-arrow-circle-down','fa-globe','fa-wrench','fa-tasks','fa-filter','fa-briefcase','fa-arrows-alt','fa-group','fa-users','fa-chain','fa-link','fa-cloud','fa-flask','fa-cut','fa-scissors','fa-copy','fa-files-o','fa-paperclip','fa-save','fa-floppy-o','fa-square','fa-bars','fa-list-ul','fa-list-ol','fa-strikethrough','fa-underline','fa-table','fa-magic','fa-truck','fa-pinterest','fa-pinterest-square','fa-google-plus-square','fa-google-plus','fa-money','fa-caret-down','fa-caret-up','fa-caret-left','fa-caret-right','fa-columns','fa-unsorted','fa-sort','fa-sort-down','fa-sort-asc','fa-sort-up','fa-sort-desc','fa-envelope','fa-linkedin','fa-rotate-left','fa-undo','fa-legal','fa-gavel','fa-dashboard','fa-tachometer','fa-comment-o','fa-comments-o','fa-flash','fa-bolt','fa-sitemap','fa-umbrella','fa-paste','fa-clipboard','fa-lightbulb-o','fa-exchange','fa-cloud-download','fa-cloud-upload','fa-user-md','fa-stethoscope','fa-suitcase','fa-bell-o','fa-coffee','fa-cutlery','fa-file-text-o','fa-building-o','fa-hospital-o','fa-ambulance','fa-medkit','fa-fighter-jet','fa-beer','fa-h-square','fa-plus-square','fa-angle-double-left','fa-angle-double-right','fa-angle-double-up','fa-angle-double-down','fa-angle-left','fa-angle-right','fa-angle-up','fa-angle-down','fa-desktop','fa-laptop','fa-tablet','fa-mobile-phone','fa-mobile','fa-circle-o','fa-quote-left','fa-quote-right','fa-spinner','fa-circle','fa-mail-reply','fa-reply','fa-github-alt','fa-folder-o','fa-folder-open-o','fa-smile-o','fa-frown-o','fa-meh-o','fa-gamepad','fa-keyboard-o','fa-flag-o','fa-flag-checkered','fa-terminal','fa-code','fa-reply-all','fa-mail-reply-all','fa-star-half-empty','fa-star-half-full','fa-star-half-o','fa-location-arrow','fa-crop','fa-code-fork','fa-unlink','fa-chain-broken','fa-question','fa-info','fa-exclamation','fa-superscript','fa-subscript','fa-eraser','fa-puzzle-piece','fa-microphone','fa-microphone-slash','fa-shield','fa-calendar-o','fa-fire-extinguisher','fa-rocket','fa-maxcdn','fa-chevron-circle-left','fa-chevron-circle-right','fa-chevron-circle-up','fa-chevron-circle-down','fa-html5','fa-css3','fa-anchor','fa-unlock-alt','fa-bullseye','fa-ellipsis-h','fa-ellipsis-v','fa-rss-square','fa-play-circle','fa-ticket','fa-minus-square','fa-minus-square-o','fa-level-up','fa-level-down','fa-check-square','fa-pencil-square','fa-external-link-square','fa-share-square','fa-compass','fa-toggle-down','fa-caret-square-o-down','fa-toggle-up','fa-caret-square-o-up','fa-toggle-right','fa-caret-square-o-right','fa-euro','fa-eur','fa-gbp','fa-dollar','fa-usd','fa-rupee','fa-inr','fa-cny','fa-rmb','fa-yen','fa-jpy','fa-ruble','fa-rouble','fa-rub','fa-won','fa-krw','fa-bitcoin','fa-btc','fa-file','fa-file-text','fa-sort-alpha-asc','fa-sort-alpha-desc','fa-sort-amount-asc','fa-sort-amount-desc','fa-sort-numeric-asc','fa-sort-numeric-desc','fa-thumbs-up','fa-thumbs-down','fa-youtube-square','fa-youtube','fa-xing','fa-xing-square','fa-youtube-play','fa-dropbox','fa-stack-overflow','fa-instagram','fa-flickr','fa-adn','fa-bitbucket','fa-bitbucket-square','fa-tumblr','fa-tumblr-square','fa-long-arrow-down','fa-long-arrow-up','fa-long-arrow-left','fa-long-arrow-right','fa-apple','fa-windows','fa-android','fa-linux','fa-dribbble','fa-skype','fa-foursquare','fa-trello','fa-female','fa-male','fa-gittip','fa-sun-o','fa-moon-o','fa-archive','fa-bug','fa-vk','fa-weibo','fa-renren','fa-pagelines','fa-stack-exchange','fa-arrow-circle-o-right','fa-arrow-circle-o-left','fa-toggle-left','fa-caret-square-o-left','fa-dot-circle-o','fa-wheelchair','fa-vimeo-square','fa-turkish-lira','fa-try','fa-plus-square-o');?>
<div class="row">
	<!--menu baru-->
	<div class="col-lg-4">
		<form action="<?php echo site_url()?>tampilan/addmenu" name="form_tambah_menu" id="form-tambah-menu" method="post">
			<input name="id_menu" id="id-menu" type="hidden">
			<div class="form-group">
				<label>Icon Menu (url) *icon 76px X 76px</label>
				<div class="input-group">
					<input id="icon-menu" name="icon_menu" type="text" class="form-control square-btn-adjust" title="Icon menu" onclick="ambil_gambar_form_web('icon-menu,')">
					<span class="input-group-addon"><i class="fa fa-picture-o" id="btn-gambar-pilih" onclick="ambil_gambar_form_web('icon-menu,')"></i></span>
				</div>
			</div>
			<div class="form-group">
				<label>Nama</label>
				<input id="nama-menu" name="nama_menu" type="text" class="form-control square-btn-adjust required" title="Nama menu">
			</div>
			<div class="form-group">
				<label>Induk</label>
				<select id="induk-menu" name="induk_menu" class="form-control square-btn-adjust auto-width" title="Induk menu">
					<option value="0">- Menu induk -</option>
					<?php
					function menu_($i,$j,$echo,$menu){
						foreach ($menu[$j] as $row) {
							$strip = '';
							for($k=1;$k<=$i;$k++){
								$strip .= '- ';
							}
							$echo.=' <option value="'.$row['id_kategori'].'">'.$strip.' '.$row['kategori'].'</option>';
							if(@$menu[$row['id_kategori']]){
								$echo .= menu_($i+1,$row['id_kategori'],'',$menu);
							}
						}
						return $echo;
					}
					if(@$menu[0]){
						echo menu_(0,0,'',$menu);
					}
					?>
				</select>
			</div>
			<div class="form-group">
				<label>Posisi Menu</label>
				<div class="radio">
					<label>
						<input name="posisi_menu" type="radio" id="posisi-menu-1" value="utama" checked data-original-title="" title="">
						<i class="berita-tanggal fa fa-expand"></i> Menu Utama
					</label>
					<div id="jenis-form" class="form-group" style="margin-left:15px;">
						<div class="radio">
							<label title="Dropdown menyesuaikan">
								<input name="jenis_menu" type="radio" id="jenis-menu-1" value="dropdown" checked data-original-title="" title="Dropdown menyesuaikan">
								<i class="berita-tanggal fa fa-list"></i> Dropdown Menu
							</label>
							&nbsp;&nbsp;&nbsp;
							<label title="Maksimal 3 submenu">
								<input name="jenis_menu" type="radio" id="jenis-menu-2" value="mega" data-original-title="" title="Maksimal 3 submenu">
								<i class="berita-tanggal fa fa-th"></i> Mega Menu
							</label>
						</div>
					</div>
				</div>
				<div class="radio">
					<label>
						<input name="posisi_menu" type="radio" id="posisi-menu-2" value="atas" data-original-title="" title="">
						<i class="berita-tanggal fa fa-arrow-up"></i> Menu Atas
					</label>
				</div>
				<div class="radio">
					<label>
						<input name="posisi_menu" type="radio" id="posisi-menu-3" value="bawah" data-original-title="" title="">
						<i class="berita-tanggal fa fa-arrow-down"></i> Menu Bawah
					</label>
				</div>
				<div class="radio">
					<label>
						<input name="posisi_menu" type="radio" id="posisi-menu-4" value="link" data-original-title="" title="">
						<i class="berita-tanggal fa fa-link"></i> Link
					</label>
				</div>
				<div class="radio">
					<label>
						<input name="posisi_menu" type="radio" id="posisi-menu-5" value="link2" data-original-title="" title="">
						<i class="berita-tanggal fa fa-link"></i> Link2
					</label>
				</div>
			</div>
			<div class="form-group">
				<label>Link</label>
				<ul class="nav nav-tabs" role="tablist">
					<li class="active"><a href="#url" role="tab" data-toggle="tab" aria-controls="url" aria-expanded="true">Url</a></li>
					<li><a href="#halaman" role="tab" data-toggle="tab" aria-controls="halaman" aria-expanded="true">Halaman</a></li>
					<!--<li><a href="#kategori" role="tab" data-toggle="tab" aria-controls="kategori" aria-expanded="true">Kategori</a></li>-->
					<li><a href="#album" role="tab" data-toggle="tab" aria-controls="album" aria-expanded="true">Album</a></li>
				</ul>
				<div class="tab-content border" style="padding:0 10px;border-top:transparent">
					<div role="tabpanel" class="tab-pane fade active in" id="url" aria-labelledby="profile-tab">
						<br>
						<div class="form-group">
							http://
							<input id="url-menu" name="url_menu" type="text" class="form-control square-btn-adjust" title="Url" onKeyPress="return angkadanhuruf(event,'abcdefghijklmnopqrstuvwxyz./?&#_-1234567890=',this)">
						</div>
					</div>
					<div role="tabpanel" class="tab-pane" id="halaman" aria-labelledby="profile-tab">
						<br>
						<div class="form-group">
							<i class="fa fa-file"></i> Halaman
							<div id="list-halaman" class="border list-halaman">
								<?php if(@$halaman){
									foreach($halaman as $row){
										?>
										<div class="checkbox">
											<label>
												<input name="checkbox_kat[halaman<?php echo$row['id_tulisan']?>]" id="list-halaman-<?php echo$row['id_tulisan']?>" value="<?php echo$row['id_tulisan']?>-halaman" class="list-check" type="checkbox"> <?php echo $row['judul_id']?>
											</label>
										</div>
										<?php
									}
								}?>
							</div>
						</div>
					</div>
					<!--<div role="tabpanel" class="tab-pane" id="kategori" aria-labelledby="profile-tab">
						<br>
						<div class="form-group">
							<i class="fa fa-tag"></i> Kategori
							<div id="list-kategori" class="border list-kategori">
								<?php if(@$kategori){
									foreach($kategori as $row){
										?>
										<div class="checkbox">
											<label>
												<input name="checkbox_kat[kategori<?php echo$row['id_kategori']?>]" id="list-kategori-<?php echo$row['id_kategori']?>" value="<?php echo$row['id_kategori']?>-kategori" class="list-check" type="checkbox"> <?php echo $row['kategori']?>
											</label>
										</div>
										<?php
									}
								}?>
							</div>
						</div>
					</div>-->
					<div role="tabpanel" class="tab-pane" id="album" aria-labelledby="profile-tab">
						<br>
						<div class="form-group">
							<i class="fa fa-picture-o"></i> Album
							<div id="list-album" class="border list-album">
								<?php if(@$album){
									foreach($album as $row){
										?>
										<div class="checkbox">
											<label>
												<input name="checkbox_kat[album<?php echo$row['id_tulisan']?>]" id="list-album-<?php echo$row['id_tulisan']?>"  value="<?php echo$row['id_tulisan']?>-album" class="list-check" type="checkbox"> <?php echo $row['judul_id']?>
											</label>
										</div>
										<?php
									}
								}?>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<button type="reset" class="md-btn md-btn-default btn-sm square-btn-adjust" title="Batal/Reset Form" onclick="form_tambah_menu_reset()"><li class="fa fa-floppy-remove"></li> Batal</button>
				<button type="submit" class="md-btn md-btn-primary btn-sm square-btn-adjust" title="Tambah menu baru"><li class="fa fa-floppy-disk"></li> Tambah menu Baru</button>
			</div>
		</form>
	</div>
	<!--menu baru end-->

	<!--daftar menu-->
	<div class="col-lg-8" style="border-left:1px solid #f0f0f0;">
		<form action="<?php echo site_url();?>tampilan/delmenumassal" name="form_hapus_menu_massal" id="form-hapus-menu-massal" method="post">
		<div class="block" style="margin-bottom:30px;">
			<div class="form-group">
				<div style="float:left" class="row col-md-5">
					<div class="input-group">
						<select name="aksi_tindakan_massal_atas" class="form-control square-btn-adjust auto-width" title="Tindakan massal">
							<option>Tindakan Massal</option>
							<option value="hps">Hapus</option>
						</select>
						<span class="btn btn-default square-btn-adjust input-group-addon" title="Terapkan" onclick="submit('#form-hapus-menu-massal');">Terapkan</span>
					</div>
				</div>
				<br />
			</div>
		</div>
		<div class="table-responsive">
			<!--tabel menu-->
			<table class="uk-table">
				<thead>
					<tr>
						<th width="3%" class="md-bg-grey-100"><input id="check-list-all-atas" onclick="check_list_all_atas()" type="checkbox"></th>
						<th class="md-bg-grey-100">Nama</th>
						<th width="10%" class="md-bg-grey-100">Posisi</th>
						<th width="3%" colspan="4" class="md-bg-grey-100">Aksi</th>
					</tr>
				</thead>
				<tbody id="tbody-menu">
					<?php
					function menu2($i,$j,$echo,$menu,$no,$submenu,$urutan2){
						foreach ($menu[$j] as $row) {
							$no+=1;
							$strip = '';
							for($k=1;$k<=$i;$k++){
								$strip .= '<i class="fa fa-minus"></i>';
							}
							if(@$submenu[$row['id_kategori']]){
								$no2=0;
								$sub_menu = '';
								foreach ($submenu[$row['id_kategori']] as $row_s) {
									if($no2==0){
										$sub_menu.=$row_s['id_kat'].'-'.$row_s['kat_order'];
									}else{
										$sub_menu.='|'.$row_s['id_kat'].'-'.$row_s['kat_order'];
									}
									$no2++;
								}
							}else{
								$sub_menu = '';
							}
							$echo.=' <tr>
								<td><input name="check_list['.$row['id_kategori'].']" value="'.$row['id_kategori'].'" id="check-list-'.$no.'" class="check-list" type="checkbox"></td>
								<td>';
								if($row['icon']!=''){
									$echo .= '<img src="'.base_url('assets/img/img_andalan').'/'.$row['icon'].'" style="width:30px;height:30px;"> '.$strip.' '.$row['kategori'].'<br>';
								}else{
									$echo .= $strip.' '.$row['kategori'].'<br>';
								}
								$echo.='<a target="blank" href="'.$row['slug'].'">'.$row['slug'].'</a></td>
								<td>'.$row['posisi'].'</td>
								<td><a href="#" onclick="set_edit({
									id:\''.$row['id_kategori'].'\'
									,nm:\''.$row['kategori'].'\'
									,slug:\''.$row['slug'].'\'
									,posisi:\''.$row['posisi'].'\'
									,icon:\''.$row['icon'].'\'
									,id_idk:\''.$row['parent'].'\'
									,parent:\''.$sub_menu.'\'
									,jenis:\''.$row['jenis'].'\'
								})" class="text-success"><i class="fa fa-pencil"></i></a></td>
								<td>
								<a href="#" title="Hapus" onclick="set_delete({
									id:\''.$row['id_kategori'].'\',
									nm:\''.$row['kategori'].'\'
									,act:\''.site_url('tampilan/delmenu').'\'
								})" data-toggle="modal" data-target=".bs-hapus-" class="text-danger">
								<i class="fa fa-trash-o"></i></a>
								</td>';

								if($i==0){
									$echo.='<td>';
										if($no!=1){
											$echo.='<a href="'.site_url('tampilan/dragmenu/'.$urutan2[$no-1].'/'.$urutan2[$no]).'" class="text-primary"><i class="fa fa-arrow-up"></i></a>';
										}
									$echo.='</td>';
									if(@$urutan2[$no+1]){
										$echo.='<td>';
											//if($no!=$jml){
											$echo.='<a href="'.site_url('tampilan/dragmenu/'.$urutan2[$no].'/'.$urutan2[$no+1]).'" class="text-primary"><i class="fa fa-arrow-down"></i></a>';
											//}
										$echo.='</td>';
									}else{
										$echo .= '<td></td>';
									}
								}else{
									$echo .= '<td></td>
										<td></td>';
								}

							$echo.='</tr>';

							if(@$submenu[$row['id_kategori']]){
								foreach ($submenu[$row['id_kategori']] as $row_s) {
									$echo.=' <tr>
										<td><input name="check_list['.$row_s['id_tulisan'].']" value="'.$row_s['id_tulisan'].'" id="check-list-" class="check-list" type="checkbox"></td>
										<td>';
										if($row_s['gambar_andalan']!=''){
											$echo .= '<img src="'.base_url('assets/img/img_andalan').'/'.$row_s['gambar_andalan'].'" style="width:30px;height:30px;"> '.$strip.'- '.$row_s['judul_id'].'<br>';
										}else{
											$echo .= $strip.'<i class="fa fa-minus"></i>'.$row_s['judul_id'].'<br>';
										}
											$echo.='<a target="blank" href="'.site_url().'home/'.$row_s['kat_order'].'/'.$row_s['id_tulisan'].'/'.preg_replace("/[\/\!@#$%^&*()=+{},]/","_",str_replace(' ','-',$row_s['judul_id'])).'">'.site_url().'home/'.$row_s['kat_order'].'/'.$row_s['id_tulisan'].'/'.preg_replace("/[\/\!@#$%^&*()=+{},]/","_",str_replace(' ','-',$row_s['judul_id'])).'</a></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>';
								}
							}

							if(@$menu[$row['id_kategori']]){
								$echo .= menu2($i+1,$row['id_kategori'],'',$menu,$no,$submenu,$urutan2);
							}
						}
						return $echo;
					}
					if(@$menu[0]){
						echo menu2(0,0,'',$menu,0,$submenu,$urutan2);
					}
					?>
				</tbody>
				<tfoot>
					<tr>
						<th class="md-bg-grey-100"><input id="check-list-all-bawah" onclick="check_list_all_bawah()" type="checkbox"></th>
						<th class="md-bg-grey-100">Nama</th>
						<th class="md-bg-grey-100">Posisi</th>
						<th colspan="4" class="md-bg-grey-100">Aksi</th>
					</tr>
				</tfoot>
			</table>
			<!--tabel menu end-->
		</div>
		<div class="block" style="margin-top:10px;">
			<div class="form-group">
				<div style="float:left" class="row col-md-5">
					<div class="input-group">
						<select name="aksi_tindakan_massal_bawah" class="form-control square-btn-adjust auto-width" title="Tindakan massal">
							<option>Tindakan Massal</option>
							<option value="hps">Hapus</option>
						</select>
						<span class="btn btn-default square-btn-adjust input-group-addon" title="Terapkan" onclick="submit('#form-hapus-menu-massal');">Terapkan</span>
					</div>
				</div>
			</div>
		</div>
		</form>
	</div>
	<!--daftar menu end-->
</div>

<!--delete Modal-->
<div class="modal fade bs-hapus-" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content square-btn-adjust">
			<div class="row">
				<div class="col-lg-12">
					<form id="form_action_del" action="" method="post">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h3 id="modal_title" class="modal-title">Hapus Menu</h3>
						</div>
						<div class="modal-body">
							<input id="id_del" name="id" type="hidden">
							<p>Apakah Anda ingin menghapus <b><span id="nama_del"></span></b>?</p>
						</div>
						<div class="modal-footer">
							<button type="reset" class="btn btn-default square-btn-adjust" data-dismiss="modal">Tidak</button>
							<button type="submit" class="btn btn-default square-btn-adjust">Ya</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<!--delete Modal end-->

<script type="text/javascript" src="<?php echo base_url('assets/jquery/jquery-2.1.3.min.js');?>"></script>
<script type="text/javascript">
$(document).ready(function(){

	$('#posisi-menu-1').on('click',function(){
		$('#jenis-form').show('slow');
	});
	$('#posisi-menu-2').on('click',function(){
		$('#jenis-form').hide('slow');
	});
	$('#posisi-menu-3').on('click',function(){
		$('#jenis-form').hide('slow');
	});
	$('#posisi-menu-4').on('click',function(){
		$('#jenis-form').hide('slow');
	});
});

function form_tambah_menu_reset(){
	$('#id-menu').val('');
	$('#nama-menu').val('');
	$('#url-menu').val('');
	$('#icon-menu').val('');
	$('.list-check').prop('checked', false);
}

function set_delete(data){
	$('#id_del').val(data.id);
	$('#nama_del').html(data.nm);
	$('#form_action_del').attr('action',data.act);
}

function set_edit(data){
	$('#id-menu').val(data.id);
	$('#nama-menu').val(data.nm);
	$('#url-menu').val(data.slug.replace('http://',''));
	if(data.posisi=='utama'){
		$('#posisi-menu-1').prop('checked', true);
	}else if(data.posisi=='atas'){
		$('#posisi-menu-2').prop('checked', true);
	}else if(data.posisi=='bawah'){
		$('#posisi-menu-3').prop('checked', true);
	}else if(data.posisi=='link'){
		$('#posisi-menu-4').prop('checked', true);
	}else if(data.posisi=='link2'){
		$('#posisi-menu-5').prop('checked', true);
	}
	if(data.jenis=='dropdown'){
		$('#jenis-menu-1').prop('checked', true);
	}else{
		$('#jenis-menu-2').prop('checked', true);
	}
	$('#icon-menu').val(data.icon);
	$('#induk-menu option[value='+data.id_idk+']').prop('selected', true);
	check=data.parent;
	check_1=check.split('|');
	$('.list-check').prop('checked', false);
	for(i=0;i<check_1.length;i++){
		if(check_1[i]!=''||check_1[i]!=null){
			check_2=check_1[i];
			check_3=check_2.split('-');
			$('#list-'+check_3[1]+'-'+check_3[0]).prop('checked', true);
		}
	}
}

function check_list_all_atas(){
	if(document.getElementById('check-list-all-atas').checked==true){
		$('.check-list').prop('checked', true);
		$('#check-list-all-bawah').prop('checked', true);
	}else{
		$('.check-list').prop('checked', false);
		$('#check-list-all-bawah').prop('checked', false);
	}
}
function check_list_all_bawah(){
	if(document.getElementById('check-list-all-bawah').checked==true){
		$('.check-list').prop('checked', true);
		$('#check-list-all-atas').prop('checked', true);
	}else{
		$('.check-list').prop('checked', false);
		$('#check-list-all-atas').prop('checked', false);
	}
}
</script>

<script language="javascript">
function getkey(e){
    if (window.event)
        return window.event.keyCode;
    else if (e)
        return e.which;
    else
        return null;
}

function angkadanhuruf(e, goods, field){
    var angka, karakterangka;
    angka = getkey(e);
    if (angka == null) return true;  
    karakterangka = String.fromCharCode(angka);
    karakterangka = karakterangka.toLowerCase();
    goods = goods.toLowerCase();
    if (goods.indexOf(karakterangka) != -1)
        return true;
        if ( angka==null || angka==0 || angka==8 || angka==9 || angka==27 )
            return true;
        if (angka == 13){
            var i;
            for (i = 0; i < field.form.elements.length; i++)
            if (field == field.form.elements[i])
                break;
            i = (i + 1) % field.form.elements.length;
            field.form.elements[i].focus();
            return false;
        };
    return false;
}
</script>

<?php
  include(APPPATH.'modules/template/ambil_gambar.php');
?>